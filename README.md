# Pneumatic_compiler_toolbox
An automated toolbox based on Matlab and Comsol Multiphysics, for designing pneumatic computational circuit

The toolbox proposed in this work requires Matlab (R2018a or newer) and Comsol MultiPhysics (Version 5.6 or newer, comes with LiveLink with Matlab) installed beforehand. The following packages must be installed on Matlab to run the toolbox correctly.
1. Image Processing Toolbox
2. Signal Processing Toolbox
3. Symbolic Math Toolbox

The procedure to set up and run the proposed toolbox is as follows:
1.Clone and install the repo.
2. Run "Comsol Multiphysics with Matlab". This starts a LiveLink(TM) for MATLAB(R) client.
3. In MATLAB, change the current folder to the path of the installed toolbox.
4. Run the "toolbox.mlapp" file to launch the toolbox.



Once installed and correctly set up, the toolbox comes with a graphical user interface. The following procedures are implemented when using this toolbox for designing pneumatic computational circuits for soft robotic applications:

**1. Define input/output number**: The first step is to tell the toolbox how many inputs and outputs are included in your desired truth table. The toolbox will automatically generate a truth table below based on these numbers.

**2. Edit the truth table**: The default truth table generated by the toolbox has LOW output at all times. This needs to be modified to suit the user's desired input-output mapping by directly editing the table. Any non-zero value in the cell will be treated as a HIGH signal, while zero will be treated as a LOW signal.

**3. Define the available 2D space:** The space constraints should be input through the editable 2D map. Available space is represented by white, while the unavailable space is represented by dark grey. The availability of each unit can be switched by direct clicking, therefore enabling the user to customize the available workspace to suit different applications.

**4. Plan the pneumatic circuit:**  Once the input-output mapping and space constraints are all set, the user can click the ``Compile the circuit!" button. The design automation algorithm will then schedule the pneumatic computational circuit to achieve the desired truth table within the space constraints while minimizing the number of air channel layers and air channel lengths. The generated circuit schedule will then be displayed in the user interface, indicating the placements of all logic gates and the air channels. The color of each air channel indicates which layer it should be placed within. The larger red dots and green dots represent the inputs and outputs of the entire computational circuit, respectively.

**5. Generate the ready-to-print CAD files:** After scheduling the pneumatic circuit, the user can generate the STereoLithography (STL) files for all logic gates and the connection hub with embedded air channels by pressing the ``Save STL" button. Pressing the button opens a file explorer where you can specify the path where the STL files should be saved.
